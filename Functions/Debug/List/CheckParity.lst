                                - CheckParity -                       Page    1

###############################################################################
#                                                                             #
#     IAR Systems AVR Assembler V2.26C/WIN 04/Sep/2002  13:57:44              #
#     Copyright 2001 IAR Systems. All rights reserved.                        #
#                                                                             #
#           Target option =  Relative jumps do not wrap                       #
#           Source file   =  C:\AVR_CC\Functions\CheckParity.s90              #
#           List file     =  C:\AVR_CC\Functions\Debug\List\CheckParity.lst   #
#           Object file   =  C:\AVR_CC\Functions\Debug\Obj\CheckParity.r90    #
#           Command line  =  -v3 -OC:\AVR_CC\Functions\Debug\Obj\ -s+ -w+ -r  #
#                            -IC:\AVR_CC\AVR\SRC\CLIB\INC\ -M<>               #
#                            -LC:\AVR_CC\Functions\Debug\List\ -cAM -i -B     #
#                            -p80 -t8 -u_enhancedCore                         #
#                            C:\AVR_CC\Functions\CheckParity.s90              #
#                                                                             #
###############################################################################

      1    00000000              NAME CheckParity
      2    00000000              #include "iom161.h"
      1    00000000              /*********************************************
                                 *******************************
      2    00000000               **             - iom161.h -
      3    00000000               **
      4    00000000               **     This file declares the internal
                                  register addresses for ATmega161.
      5    00000000               **
      6    00000000               **     Used with iccAVR and aAVR.
      7    00000000               **
      8    00000000               **     Copyright IAR Systems 1999. All rights
                                  reserved.
      9    00000000               **
     10    00000000               **     $Name: V2_26B V2_25B V2.21H V2.21G
                                  V2_25A V2_21B $
     11    00000000               **
     12    00000000               *********************************************
                                 ******************************/
     13    00000000              
     14    00000000              #include "iomacro.h"
      1    00000000              /*********************************************
                                 *****************
      2    00000000               **             - iomacro.h -
      3    00000000               **
      4    00000000               **     This file defines the Special Function
                                  Register Macros
      5    00000000               **     for Atmel AT90S.
      6    00000000               **
      7    00000000               **     Used with iccAVR and aAVR.
      8    00000000               **
      9    00000000               **     Copyright IAR Systems 1999. All rights
                                  reserved.
     10    00000000               **
     11    00000000               **     $Name: $
     12    00000000               **
     13    00000000               *********************************************
                                 *****************/
     14    00000000              
     15    00000000              #ifndef __IOMACRO_H
     16    00000000              #define __IOMACRO_H
     17    00000000              
     18    00000000              #define TID_GUARD(proc) ((__TID__ & 0x7FF0) !=
                                  ((90 << 8) | ((proc) << 4)))
     19    00000000              
     20    00000000              #if !(__IAR_SYSTEMS_ICC__ > 2) && !defined(__I
                                 AR_SYSTEMS_ASM__)
     21    00000000              #error This file should only be compiled with
                                  iccavr or aavr.
     22    00000000              #endif /* !(__IAR_SYSTEMS_ICC__ > 2) &&
                                  !defined __IAR_SYSTEMS_ASM__ */
     23    00000000              
     24    00000000              /* The assembler uses a special set of
                                  macros... */
     25    00000000              #ifdef __IAR_SYSTEMS_ASM__
     26    00000000              
     27    00000000              /* Byte sized SFRs */
     28    00000000              #define SFR_B_BITS(_NAME,_ADDR,_A,_B,_C,_D,_E,
                                 _F,_G,_H)\
     30    00000000              #define SFR_B2_BITS(_NAME1,_NAME2,_ADDR,_A,_B,
                                 _C,_D,_E,_F,_G,_H)\
                                - CheckParity -                       Page    2

     32    00000000              
     33    00000000              ASMSFRB2 MACRO
     34    00000000                      sfrb    \1 = \3
     35    00000000                      sfrb    \2 = \3
     36    00000000                      ENDM
     37    00000000              
     38    00000000              
     39    00000000              /* Word sized SFRs, needs to be expanded into
                                  an assembler macro first. */
     40    00000000              #define SFR_W_BITS(_NAME, _ADDR, _A,_B,_C,_D,_
                                 E,_F,_G,_H, _I,_J,_K,_L,_M,_N,_O,_P)\
     42    00000000              
     43    00000000              ASMSFRW MACRO
     44    00000000                      sfrw    \1  = \2
     45    00000000                      sfrb    \1L = (\2+0)
     46    00000000                      sfrb    \1H = (\2+1)
     47    00000000                      ENDM
     48    00000000              
     49    00000000              #endif /* __IAR_SYSTEMS_ASM__ */
     50    00000000              
     51    00000000              #ifdef __ICCAVR__
     61    00000000                            _NAME ## _ ## _H:1;
     69    00000000                  } @ _ADDR;
     80    00000000                  } @ _ADDR;
     87    00000000                  } @ _ADDR;
    104    00000000                  } @ _ADDR;
    106    00000000              #endif /* __ICCAVR__ */
    107    00000000              
    108    00000000              #define SFR_B(_NAME, _ADDR) SFR_B_BITS(_NAME,
                                  _ADDR, \
    110    00000000              #define SFR_B2(_NAME1, _NAME2, _ADDR)
                                  SFR_B2_BITS(_NAME1, _NAME2, _ADDR, \
    112    00000000              #define SFR_B_EXT(_NAME, _ADDR) SFR_B_BITS_EXT
                                 (_NAME, _ADDR, \
    114    00000000              
    115    00000000              #define SFR_W(_NAME, _ADDR)  SFR_W_BITS(_NAME,
                                  _ADDR, \
    118    00000000              
    119    00000000              #endif /* __IOMACRO_H */
     15    00000000              
     16    00000000              #if TID_GUARD(3)
     17    00000000              #error This file should only be compiled with
                                  iccavr or aavr whith processor option
                                  -v3
     18    00000000              #endif /* TID_GUARD(3) */
     19    00000000              
     20    00000000              /* Include the SFR part if this file has not
                                  been included before,
     21    00000000               * OR this file is included by the assembler
                                  (SFRs must be defined in
     22    00000000               * each assembler module). */
     23    00000000              #if !defined(__IOM161_H) || defined(__IAR_SYST
                                 EMS_ASM__)
     24    00000000              
     25    00000000              #pragma language=extended
     26    00000000              
     27    00000000              /*==========================*/
     28    00000000              /* Predefined SFR Addresses */
     29    00000000              /*==========================*/
     30    00000000              
     31    00000000              SFR_B(UBRR1,  0x00) /* UART1 Baud Rate
                                  Register */
     32    00000000              SFR_B(UCSR1B, 0x01) /* UART1 Control and
                                  Status Register */
     33    00000000              SFR_B(UCSR1A, 0x02) /* UART1 Control and
                                  Status Register */
     34    00000000              SFR_B(UDR1,   0x03) /* UART1 I/O Data Register
                                  */
     35    00000000              SFR_B(PINE,   0x05) /* Input Pins, Port E
                                  */
     36    00000000              SFR_B(DDRE,   0x06) /* Data Direction
                                  Register, Port E */
     37    00000000              SFR_B(PORTE,  0x07) /* Data Register, Port E
                                  */
     38    00000000              SFR_B(ACSR,   0x08) /* Analog Comparator
                                  Control and Status Register */
     39    00000000              SFR_B(UBRR0,  0x09) /* UART0 Baud Rate
                                  Register */
                                - CheckParity -                       Page    3

     40    00000000              SFR_B(UCSR0B, 0x0A) /* UART0 Control and
                                  Status Register */
     41    00000000              SFR_B(UCSR0A, 0x0B) /* UART0 Control and
                                  Status Register */
     42    00000000              SFR_B(UDR0,   0x0C) /* UART0 I/O Data Register
                                  */
     43    00000000              SFR_B(SPCR,   0x0D) /* SPI Control Register
                                  */
     44    00000000              SFR_B(SPSR,   0x0E) /* SPI Status Register
                                  */
     45    00000000              SFR_B(SPDR,   0x0F) /* SPI I/O Data Register
                                  */
     46    00000000              SFR_B(PIND,   0x10) /* Input Pins, Port D
                                  */
     47    00000000              SFR_B(DDRD,   0x11) /* Data Direction
                                  Register, Port D */
     48    00000000              SFR_B(PORTD,  0x12) /* Data Register, Port D
                                  */
     49    00000000              SFR_B(PINC,   0x13) /* Input Pins, Port C
                                  */
     50    00000000              SFR_B(DDRC,   0x14) /* Data Direction
                                  Register, Port C */
     51    00000000              SFR_B(PORTC,  0x15) /* Data Register, Port C
                                  */
     52    00000000              SFR_B(PINB,   0x16) /* Input Pins, Port B
                                  */
     53    00000000              SFR_B(DDRB,   0x17) /* Data Direction
                                  Register, Port B */
     54    00000000              SFR_B(PORTB,  0x18) /* Data Register, Port B
                                  */
     55    00000000              SFR_B(PINA,   0x19) /* Input Pins, Port A
                                  */
     56    00000000              SFR_B(DDRA,   0x1A) /* Data Direction
                                  Register, Port A */
     57    00000000              SFR_B(PORTA,  0x1B) /* Data Register, Port A
                                  */
     58    00000000              SFR_B(EECR,   0x1C) /* EEPROM Control Register
                                  */
     59    00000000              SFR_B(EEDR,   0x1D) /* EEPROM Data Register
                                  */
     60    00000000              SFR_W(EEAR,   0x1E) /* EEPROM Address Register
                                  */
     60.1  00000000                      sfrw    EEAR  = 0x1E
     60.2  00000000                      sfrb    EEARL = (0x1E+0)
     60.3  00000000                      sfrb    EEARH = (0x1E+1)
     60.4  00000000                      ENDM
     61    00000000              SFR_B(UBRRHI, 0x20) /* UART Baud Register HIgh
                                  */
     62    00000000              SFR_B(WDTCR,  0x21) /* Watchdog Timer Control
                                  Register */
     63    00000000              SFR_B(OCR2,   0x22) /* Timer/Counter2 Output
                                  Compare Register */
     64    00000000              SFR_B(TCNT2,  0x23) /* Timer/Counter2 (8-bit)
                                  */
     65    00000000              SFR_W(ICR1,   0x24) /* Timer/Counter1 Input
                                  Capture Register */
     65.1  00000000                      sfrw    ICR1  = 0x24
     65.2  00000000                      sfrb    ICR1L = (0x24+0)
     65.3  00000000                      sfrb    ICR1H = (0x24+1)
     65.4  00000000                      ENDM
     66    00000000              SFR_B(ASSR,   0x26) /* Asynchronous mode
                                  StatuS Register */
     67    00000000              SFR_B(TCCR2,  0x27) /* Timer/Counter2 Control
                                  Register */
     68    00000000              SFR_W(OCR1B,  0x28) /* Timer/Counter1 Output
                                  Compare Register B */
     68.1  00000000                      sfrw    OCR1B  = 0x28
     68.2  00000000                      sfrb    OCR1BL = (0x28+0)
     68.3  00000000                      sfrb    OCR1BH = (0x28+1)
     68.4  00000000                      ENDM
     69    00000000              SFR_W(OCR1A,  0x2A) /* Timer/Counter1 Output
                                  Compare Register A */
     69.1  00000000                      sfrw    OCR1A  = 0x2A
     69.2  00000000                      sfrb    OCR1AL = (0x2A+0)
     69.3  00000000                      sfrb    OCR1AH = (0x2A+1)
     69.4  00000000                      ENDM
     70    00000000              SFR_W(TCNT1,  0x2C) /* Timer/Counter1
                                  */
                                - CheckParity -                       Page    4

     70.1  00000000                      sfrw    TCNT1  = 0x2C
     70.2  00000000                      sfrb    TCNT1L = (0x2C+0)
     70.3  00000000                      sfrb    TCNT1H = (0x2C+1)
     70.4  00000000                      ENDM
     71    00000000              SFR_B(TCCR1B, 0x2E) /* Timer/Counter1 Control
                                  Register B */
     72    00000000              SFR_B(TCCR1A, 0x2F) /* Timer/Counter1 Control
                                  Register A */
     73    00000000              SFR_B(SFIOR,  0x30) /* Special Function IO
                                  Register */
     74    00000000              SFR_B(OCR0,   0x31) /* Timer/Counter0 Output
                                  Compare Register */
     75    00000000              SFR_B(TCNT0,  0x32) /* Timer/Counter0 (8-bit)
                                  */
     76    00000000              SFR_B(TCCR0,  0x33) /* Timer/Counter0 Control
                                  Register */
     77    00000000              SFR_B(MCUSR,  0x34) /* MCU general Status
                                  Register */
     78    00000000              SFR_B(MCUCR,  0x35) /* MCU general Control
                                  Register */
     79    00000000              SFR_B(EMCUCR, 0x36) /* Extended MCU general
                                  Control Register */
     80    00000000              SFR_B(SPMCR,  0x37) /* Store Program Memory
                                  Control Register */
     81    00000000              SFR_B(TIFR,   0x38) /* Timer/Counter Interrupt
                                  Flag Register */
     82    00000000              SFR_B(TIMSK,  0x39) /* Timer/Counter Interrupt
                                  MaSK Register */
     83    00000000              SFR_B(GIFR,   0x3A) /* General Interrupt Flag
                                  Register */
     84    00000000              SFR_B(GIMSK,  0x3B) /* General Interrupt MaSK
                                  register */
     85    00000000              SFR_W(SP,     0x3D) /* Stack Pointer
                                  */
     85.1  00000000                      sfrw    SP  = 0x3D
     85.2  00000000                      sfrb    SPL = (0x3D+0)
     85.3  00000000                      sfrb    SPH = (0x3D+1)
     85.4  00000000                      ENDM
     86    00000000              SFR_B(SREG,   0x3F) /* Status REGister
                                  */
     87    00000000              
     88    00000000              #ifndef __IOM161_H
     89    00000000              #define __IOM161_H
     90    00000000              
     91    00000000              /* SFRs are local in assembler modules (so
                                  this file may need to be */
     92    00000000              /* included in more than one module in the
                                  same source file), */
     93    00000000              /* but #defines must only be made once per
                                  source file. */
     94    00000000              
     95    00000000              /*==============================*/
     96    00000000              /* Interrupt Vector Definitions */
     97    00000000              /*==============================*/
     98    00000000              
     99    00000000              /* NB! vectors are specified as byte addresses
                                  */
    100    00000000              
    101    00000000              #define RESET_vect        (0x00)
    102    00000000              #define INT0_vect         (0x04)
    103    00000000              #define INT1_vect         (0x08)
    104    00000000              #define INT2_vect         (0x0C)
    105    00000000              #define TIMER2_COMP_vect  (0x10)
    106    00000000              #define TIMER2_OVF_vect   (0x14)
    107    00000000              #define TIMER1_CAPT_vect  (0x18)
    108    00000000              #define TIMER1_COMPA_vect (0x1C)
    109    00000000              #define TIMER1_COMPB_vect (0x20)
    110    00000000              #define TIMER1_OVF_vect   (0x24)
    111    00000000              #define TIMER0_COMP_vect  (0x28)
    112    00000000              #define TIMER0_OVF_vect   (0x2C)
    113    00000000              #define SPI_STC_vect      (0x30)
    114    00000000              #define UART0_RX_vect     (0x34)
    115    00000000              #define UART1_RX_vect     (0x38)
    116    00000000              #define UART0_UDRE_vect   (0x3C)
    117    00000000              #define UART1_UDRE_vect   (0x40)
    118    00000000              #define UART0_TX_vect     (0x44)
    119    00000000              #define UART1_TX_vect     (0x48)
    120    00000000              #define EE_RDY_vect       (0x4C)
                                - CheckParity -                       Page    5

    121    00000000              #define ANA_COMP_vect     (0x50)
    122    00000000              
    123    00000000              #ifdef __IAR_SYSTEMS_ASM__   
    124    00000000              #ifndef ENABLE_BIT_DEFINITIONS
    125    00000000              #define  ENABLE_BIT_DEFINITIONS
    126    00000000              #endif /* ENABLE_BIT_DEFINITIONS */
    127    00000000              #endif /* __IAR_SYSTEMS_ASM__ */
    128    00000000              
    129    00000000              #ifdef ENABLE_BIT_DEFINITIONS
    130    00000000              
    131    00000000              
    132    00000000              /* Bit definitions for use with the IAR
                                  Assembler   
    133    00000000                 The Register Bit names are represented by
                                  their bit number (0-7).
    134    00000000              */                                            
                                     
    135    00000000              
    136    00000000              /* MCU Status Register */ 
    137    00000000              #define WDRF      3
    138    00000000              #define BORF      2
    139    00000000              #define EXTRF     1
    140    00000000              #define PORF      0
    141    00000000              
    142    00000000              /* General Interrupt MaSK register */
    143    00000000              #define INT1      7
    144    00000000              #define INT0      6
    145    00000000              #define INT2      5
    146    00000000              
    147    00000000              /* General Interrupt Flag Register */
    148    00000000              #define INTF1     7
    149    00000000              #define INTF0     6
    150    00000000              #define INTF2     5
    151    00000000              
    152    00000000              /* Timer/Counter Interrupt MaSK register */
                                  
    153    00000000              #define TOIE1     7
    154    00000000              #define OCIE1A    6
    155    00000000              #define OCIE1B    5
    156    00000000              #define TOIE2     4
    157    00000000              #define TICIE1    3
    158    00000000              #define OCIE2     2
    159    00000000              #define TOIE0     1
    160    00000000              #define OCIE0     0
    161    00000000               
    162    00000000              /* Timer/Counter Interrupt Flag Register
                                  */
    163    00000000              #define TOV1        7
    164    00000000              #define OCF1A       6
    165    00000000              #define OCF1B       5
    166    00000000              #define TOV2        4
    167    00000000              #define ICF1        3
    168    00000000              #define OCF2        2
    169    00000000              #define TOV0        1      
    170    00000000              #define OCF0        0
    171    00000000               
    172    00000000              /* MCU general Control Register */
    173    00000000              #define SRE         7
    174    00000000              #define SRW10       6
    175    00000000              #define SE          5
    176    00000000              #define SM1         4
    177    00000000              #define ISC11       3
    178    00000000              #define ISC10       2
    179    00000000              #define ISC01       1
    180    00000000              #define ISC00       0
    181    00000000              
    182    00000000              /* Extended MCU general Control Register
                                  */
    183    00000000              #define SM0         7
    184    00000000              #define SRL2        6
    185    00000000              #define SRL1        5
    186    00000000              #define SRL0        4
    187    00000000              #define SRW01       3
    188    00000000              #define SRW00       2
    189    00000000              #define SRW11       1
    190    00000000              #define ISC2        0
    191    00000000              
    192    00000000              /* Special Function IO Register */
                                - CheckParity -                       Page    6

    193    00000000              #define PSR2        1
    194    00000000              #define PSR10       0
    195    00000000              
    196    00000000              /* Timer/Counter0 Control Register */
    197    00000000              #define FOC0        7
    198    00000000              #define PWM0        6
    199    00000000              #define COM01       5
    200    00000000              #define COM00       4
    201    00000000              #define CTC0        3
    202    00000000              #define CS02        2
    203    00000000              #define CS01        1
    204    00000000              #define CS00        0
    205    00000000              
    206    00000000              /* Timer/Counter2 Control Register */
    207    00000000              #define FOC2        7
    208    00000000              #define PWM2        6
    209    00000000              #define COM21       5
    210    00000000              #define COM20       4
    211    00000000              #define CTC2        3
    212    00000000              #define CS22        2
    213    00000000              #define CS21        1
    214    00000000              #define CS20        0
    215    00000000              
    216    00000000              /* Asyncronous Status Register */
    217    00000000              #define AS2         3
    218    00000000              #define TCN2UB      2
    219    00000000              #define OCR2UB      1
    220    00000000              #define TCR2UB      0
    221    00000000              
    222    00000000              /* Timer/Counter 0 Control Register A */
                                  
    223    00000000              #define COM1A1      7
    224    00000000              #define COM1A0      6
    225    00000000              #define COM1B1      5
    226    00000000              #define COM1B0      4
    227    00000000              #define FOC1A       3
    228    00000000              #define FOC1B       2
    229    00000000              #define PWM11       1
    230    00000000              #define PWM10       0
    231    00000000              
    232    00000000              /* Timer/Counter 0 Control Register B */
                                  
    233    00000000              #define ICNC1       7
    234    00000000              #define ICES1       6
    235    00000000              #define CTC1        3
    236    00000000              #define CS12        2
    237    00000000              #define CS11        1
    238    00000000              #define CS10        0
    239    00000000              
    240    00000000              /* Watchdog Timer Control Register */
                                  
    241    00000000              #define WDTOE       4
    242    00000000              #define WDE         3
    243    00000000              #define WDP2        2
    244    00000000              #define WDP1        1
    245    00000000              #define WDP0        0
    246    00000000                
    247    00000000              /* EEPROM Control Register */
    248    00000000              #define EERIE       3
    249    00000000              #define EEMWE       2
    250    00000000              #define EEWE        1
    251    00000000              #define EERE        0
    252    00000000              
    253    00000000              /* SPI Control Register */
    254    00000000              #define SPIE        7
    255    00000000              #define SPE         6
    256    00000000              #define DORD        5
    257    00000000              #define MSTR        4
    258    00000000              #define CPOL        3
    259    00000000              #define CPHA        2
    260    00000000              #define SPR1        1
    261    00000000              #define SPR0        0
    262    00000000              
    263    00000000              /* SPI Status Register */
    264    00000000              #define SPIF        7
    265    00000000              #define WCOL        6
    266    00000000              #define SPI2X       0
    267    00000000              
                                - CheckParity -                       Page    7

    268    00000000              /* UART0 Control and Status Register A
                                  */
    269    00000000              #define RXC0        7
    270    00000000              #define TXC0        6
    271    00000000              #define UDRE0       5
    272    00000000              #define FE0         4
    273    00000000              #define OVR0        3
    274    00000000              #define U2X0        1
    275    00000000              #define MPCM0       0
    276    00000000              
    277    00000000              /* UART0 Control and Status Register B
                                  */
    278    00000000              #define RXCIE0      7
    279    00000000              #define TXCIE0      6
    280    00000000              #define UDRIE0      5
    281    00000000              #define RXEN0       4
    282    00000000              #define TXEN0       3
    283    00000000              #define CHR90       2
    284    00000000              #define RXB80       1
    285    00000000              #define TXB80       0
    286    00000000              
    287    00000000              /* UART1 Control and Status Register A
                                  */
    288    00000000              #define RXC1        7
    289    00000000              #define TXC1        6
    290    00000000              #define UDRE1       5
    291    00000000              #define FE1         4
    292    00000000              #define OVR1        3
    293    00000000              #define U2X1        1
    294    00000000              #define MPCM1       0
    295    00000000              
    296    00000000              /* UART1 Control and Status Register B
                                  */
    297    00000000              #define RXCIE1      7
    298    00000000              #define TXCIE1      6
    299    00000000              #define UDRIE1      5
    300    00000000              #define RXEN1       4
    301    00000000              #define TXEN1       3
    302    00000000              #define CHR91       2
    303    00000000              #define RXB81       1
    304    00000000              #define TXB81       0
    305    00000000              
    306    00000000              /* Analog Comparator Control And Status
                                  Register */
    307    00000000              #define ACD         7
    308    00000000              #define AINBG       6
    309    00000000              #define ACO         5
    310    00000000              #define ACI         4
    311    00000000              #define ACIE        3
    312    00000000              #define ACIC        2
    313    00000000              #define ACIS1       1
    314    00000000              #define ACIS0       0
    315    00000000              
    316    00000000              /* SPM Control Register */
    317    00000000              #define BLBSET      3
    318    00000000              #define PGWRT       2
    319    00000000              #define PGERS       1
    320    00000000              #define SPMEN       0
    321    00000000              
    322    00000000              /* Data Register, Port A */
    323    00000000              #define    PA7          7
    324    00000000              #define    PA6          6
    325    00000000              #define    PA5          5
    326    00000000              #define    PA4          4
    327    00000000              #define    PA3          3
    328    00000000              #define    PA2          2
    329    00000000              #define    PA1          1
    330    00000000              #define    PA0          0
    331    00000000               
    332    00000000              /* Data Direction Register, Port A */
                                  
    333    00000000              #define    DDA7         7
    334    00000000              #define    DDA6         6
    335    00000000              #define    DDA5         5
    336    00000000              #define    DDA4         4
    337    00000000              #define    DDA3         3
    338    00000000              #define    DDA2         2
    339    00000000              #define    DDA1         1
                                - CheckParity -                       Page    8

    340    00000000              #define    DDA0         0
    341    00000000                 
    342    00000000              /* Input Pins, Port A */ 
    343    00000000              #define    PINA7        7
    344    00000000              #define    PINA6        6
    345    00000000              #define    PINA5        5
    346    00000000              #define    PINA4        4
    347    00000000              #define    PINA3        3
    348    00000000              #define    PINA2        2
    349    00000000              #define    PINA1        1
    350    00000000              #define    PINA0        0
    351    00000000               
    352    00000000              /* Data Register, Port B */ 
    353    00000000              #define    PB7          7
    354    00000000              #define    PB6          6
    355    00000000              #define    PB5          5
    356    00000000              #define    PB4          4
    357    00000000              #define    PB3          3
    358    00000000              #define    PB2          2
    359    00000000              #define    PB1          1
    360    00000000              #define    PB0          0
    361    00000000               
    362    00000000              /* Data Direction Register, Port B */
    363    00000000              #define    DDB7         7
    364    00000000              #define    DDB6         6
    365    00000000              #define    DDB5         5
    366    00000000              #define    DDB4         4
    367    00000000              #define    DDB3         3
    368    00000000              #define    DDB2         2
    369    00000000              #define    DDB1         1
    370    00000000              #define    DDB0         0
    371    00000000                                    
    372    00000000              /* Input Pins, Port B */
    373    00000000              #define    PINB7        7
    374    00000000              #define    PINB6        6
    375    00000000              #define    PINB5        5
    376    00000000              #define    PINB4        4
    377    00000000              #define    PINB3        3
    378    00000000              #define    PINB2        2
    379    00000000              #define    PINB1        1
    380    00000000              #define    PINB0        0
    381    00000000               
    382    00000000              /* Data Register, Port C */
    383    00000000              #define    PC7          7
    384    00000000              #define    PC6          6
    385    00000000              #define    PC5          5
    386    00000000              #define    PC4          4
    387    00000000              #define    PC3          3
    388    00000000              #define    PC2          2
    389    00000000              #define    PC1          1
    390    00000000              #define    PC0          0
    391    00000000               
    392    00000000              /* Data Register, Port D */
    393    00000000              #define    PD7          7
    394    00000000              #define    PD6          6
    395    00000000              #define    PD5          5
    396    00000000              #define    PD4          4
    397    00000000              #define    PD3          3
    398    00000000              #define    PD2          2
    399    00000000              #define    PD1          1
    400    00000000              #define    PD0          0
    401    00000000                                                       
                                  
    402    00000000              /* Data Direction Register, Port D */
    403    00000000              #define    DDD7         7
    404    00000000              #define    DDD6         6
    405    00000000              #define    DDD5         5
    406    00000000              #define    DDD4         4
    407    00000000              #define    DDD3         3
    408    00000000              #define    DDD2         2
    409    00000000              #define    DDD1         1
    410    00000000              #define    DDD0         0
    411    00000000               
    412    00000000              /* Input Pins, Port D */
    413    00000000              #define    PIND7        7
    414    00000000              #define    PIND6        6
    415    00000000              #define    PIND5        5
    416    00000000              #define    PIND4        4
                                - CheckParity -                       Page    9

    417    00000000              #define    PIND3        3
    418    00000000              #define    PIND2        2
    419    00000000              #define    PIND1        1
    420    00000000              #define    PIND0        0
    421    00000000               
    422    00000000              /* Data Register, Port E */
    423    00000000              #define    PE2          2
    424    00000000              #define    PE1          1
    425    00000000              #define    PE0          0
    426    00000000               
    427    00000000              /* Data Direction Register, Port E */
    428    00000000              #define    DDE2         2
    429    00000000              #define    DDE1         1
    430    00000000              #define    DDE0         0
    431    00000000               
    432    00000000              /* Input Pins, Port E */
    433    00000000              #define    PINE2        2
    434    00000000              #define    PINE1        1
    435    00000000              #define    PINE0        0
    436    00000000               
    437    00000000              /* Pointer definition */
    438    00000000              #define    XL       r26
    439    00000000              #define    XH       r27
    440    00000000              #define    YL       r28
    441    00000000              #define    YH       r29
    442    00000000              #define    ZL       r30
    443    00000000              #define    ZH       r31
    444    00000000              
    445    00000000              /* Constants */
    446    00000000              #define    RAMEND   0x045F    /* Last On-Chip
                                  SRAM Location */
    447    00000000              #define    XRAMEND  0xFFFF
    448    00000000              #define    E2END    0x01FF
    449    00000000              #define    FLASHEND 0x3FFF
    450    00000000               
    451    00000000              #endif /* ENABLE_BIT_DEFINITIONS */
    452    00000000              #endif /* __IOM161_H (define part) */
    453    00000000              
    454    00000000              #pragma language=default
    455    00000000              
    456    00000000              #endif /* __IOM161_H (SFR part) */
      3    00000000              PUBLIC CheckParity  ; Declare symbols to be
                                                      exported to C function
      4    00000000              
      5    00000000                RSEG CODE         ; This code is relocatable
                                 , RSEG
      6    00000000              
      7    00000000              CheckParity:        ; Label, start execution
                                  here
      8    00000000 2711           clr R17           ; Zero flag SREG C=0
                                                      
      9    00000002 2722           clr R18           ; Zero R18 is test parity 
                                                               
     10    00000004 E018           LDI R17,8          ; count 8  
     11    00000006              loop1:
     12    00000006 9507           ROR R16           ; rotate b0 -> C
     13    00000008 F408           brcc loop2        ; if (C=0) then goto
                                                      loop2
     14    0000000A 9520           com R18           ; change is neg
     15    0000000C              loop2:
     16    0000000C 951A           dec R17           ;
     17    0000000E 2311           tst R17
     18    00000010 F7D1           brne loop1        ; if (Z=0) then loop1
     19    00000012 2F02           mov R16,R18       ; rerutn calculate if
                                                      (R18=0) then parity
     20    00000014                                  ;                  else no
                                  parity    
     21    00000014 9508           ret               ; Return to the main
                                                      function
     22    00000016                END
##############################
#          CRC:AC6           #
#        Errors:   0         #
#        Warnings: 0         #
#         Bytes: 22          #
##############################



